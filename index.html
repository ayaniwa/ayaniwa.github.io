<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>Ayana Niwa/丹羽彩奈</title>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta charset="utf-8"/>
    <meta name="author" content="Ayana Niwa">
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="ja_JP"/>
    <meta property="og:site_name" content="Homepage of Ayana Niwa"/>
    <meta property="og:title" content="Homepage of Ayana Niwa"/>
    <meta property="og:description"
          content="This is the homepage of Ayana Niwa, research scientist at Megagon Labs Tokyo.">
    <meta property="og:url" content="https://ayaniwa.github.io/"/>
    <meta property="og:image" content="https://ayaniwa.github.io/images/me.jpg"/>
    <meta name="twitter:site" content="@ayaniwa1213"/>
    <meta name="twitter:card" content="summary"/>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>

</head>
<body class="is-preload">

<div id="wrapper">
    <nav id="nav">
        <ul>
            <li><a href="#intro" class="active">Introduction</a></li>
            <li><a href="#education">Education</a></li>
            <li><a href="#experience">Experience</a></li>
            <li><a href="#publication">Publication</a></li>
            <li><a href="#award">Award</a></li>
            <li><a href="#organizer">Organizer</a></li>
            <li><a href="#talk">Talk</a></li>
            <li><a href="#others">Others</a></li>
        </ul>
    </nav>

    <!-- Main -->
    <div id="main">
        <!-- Introduction -->
        <section id="intro" class="main">
            <div class="spotlight">
                <div class="content">
                    <h1 style="margin: 0 0 0 0; font-weight: bold">Ayana Niwa</h1><br>
                    <h2>Ph.D Research Scientist at Megagon Labs Tokyo</h2>
                    <h2>Researcher at Tokyo Institute of Technology</h2>
                    <span class="copy-target">ayana [at] megagon.ai </span>
                    <span class="copy-area">
                        <button id="copy-td" class="copy-btn d-block mx-auto bg-white border border-secondary rounded"
                                value="ayana@megagon.ai" data-toggle="tooltip">
                            <i class="fas fa-copy"></i>
                        </button>
                    </span>

                    <h3 style="margin:20px 0 0 0">Research Interest: Natural Language Processing (NLP)</h3>
                    <ul>
                        <li>Text generation using templates</li>
                        <li>Linguistic knowledge acquisition</li>
                    </ul>
                    <ul class="icons">
                        <li><a href="https://twitter.com/ayaniwa1213" class="icon brands fa-twitter alt"><span
                                class="label">Twitter</span></a></li>
                        <li><a href="https://www.nlp.c.titech.ac.jp" class="icon solid fa-globe alt"><span
                                class="label">Website of Okazaki Lab.</span></a></li>
                        <li><a href="https://speakerdeck.com/ayaniwa" class="icon brands fa-speaker-deck alt"><span
                                class="label">Speaker Deck</span></a></li>
                    </ul>

                    <p>My CV can be found <a href="files/cv_latest.pdf">here</a> (last updated: Apr. 08, 2022).</p>
                </div>
            </div>
        </section>

        <!-- First Section -->
        <section id="education" class="main special">
            <header class="major">
                <h2>Education</h2>
            </header>
            <div class="row">
                <div class="col-3">April 2020 - March 2023</div>
                <div class="col-9"><span style="font-weight: bold">Ph.D. student of Computer Science, Tokyo Institute of Technology</span>
                    <br/>
                    Research field: Natural Language Processing<br>
                    Adviser: <a href="http://www.chokkan.org/index.en.html"> Prof. Naoaki
                        Okazaki</a><br>
                </div>
                <div class="col-3">April 2018 – March 2020</div>
                <div class="col-9"><span
                        style="font-weight: bold">Master of Engineering, Tokyo Institute of Technology </span><br/>
                    Research field: Natural Language Processing<br>
                    Adviser: <a href="http://www.chokkan.org/index.en.html"> Prof. Naoaki
                        Okazaki</a><br>
                </div>
                <div class="col-3">April 2014 – March 2018</div>
                <div class="col-9"><span style="font-weight: bold">Bachelor of Science and Technology, Sophia University, Japan</span><br/>
                    Research field of the bachelor thesis: Combinatorial optimization<br>
                    Adviser: <a href="http://pweb.cc.sophia.ac.jp/irohara/index-e.html">Prof.
                        Takashi Irohara</a><br>
                </div>
            </div>
        </section>

        <section id="experience" class="main special">
            <header class="major">
                <h2>Research and Job Experience</h2>
            </header>
            <div class="row">
                <div class="col-3">2023/04 - </div>
                <div class="col-9"><span
                        style="font-weight: bold"><a href="https://megagon.ai/">Megagon Labs</a></span><br/>
                    <em>Research scientist</em><br>
                </div>
                <div class="col-3">2021/04 - 2023/03</div>
                <div class="col-9"><span
                        style="font-weight: bold"><a href="https://www.jsps.go.jp/english/e-pd/">JSPS Research Fellowships for Young Scientists (DC2)</a></span><br/>
                    <em>JSPS Research Fellow</em><br>
                    Adviser: Naoaki Okazaki<br>
                    <ul class="info">
                        <li> Structuring templates and acquiring lexical knowledge for text generation</li>
                    </ul>
                </div>
                <div class="col-3">2019/06 - 2023/03</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://megagon.ai/">Megagon Labs</a></span> <br/>
                    <em>Research Internship</em><br>
                    Adviser: Hiroshi Matsuda<br>
                    <ul class="info">
                        <li>Research work related to sentiment analysis</li>
                        <li>Work in the development team of <a href="https://megagonlabs.github.io/ginza/">GiNZA</a>,
                            an open source Japanese NLP Library.
                        </li>
                    </ul>
                </div>
                <div class="col-3">2018/10 - 2023/03</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://www.cyberagent.co.jp/">CyberAgent, Inc.</a> </span><br/>
                    <em>Collaborative project</em>

                    <ul class="info">
                        <li>Research towards automatic advertising slogan generation</li>
                        <li>Corpus construction, structural analysis, and text generation
                        </li>
                    </ul>
                </div>
                <div class="col-3">2018/10 - 2023/03</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://www.titech.ac.jp/english">Tokyo Institute of Technology</a></span> <br/>
                    <em>Research Assistant</em>
                </div>

                <div class="col-3">2015/03 - 2017/03</div>
                <div class="col-9"><span style="font-weight: bold">NeEds Inc. </span> <br/>
                    <em>After school tutor</em>
                </div>
                <div class="col-3">2014/04 - 2018/03</div>
                <div class="col-9"><span style="font-weight: bold">Kawaijuku Group</span><br/>
                    <em>After school tutor</em>
                </div>
            </div>
        </section>
        <section id="publication" class="main special">
            <header class="major">
                <h2>Publication</h2>
            </header>
            <div class="content">
                <h3>Journal (Refereed)</h3>
                <ul class="info">
                    <li>
                        <u>Ayana Niwa</u>, Sho Takase, and Naoaki Okazaki.
                        <strong>Nearest Neighbor Non-autoregressive Text Generation</strong>.
                        <i>Journal of Information Processing</i>, 2023 (to appear).
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Naoaki Okazaki, Kohei Wakimoto, Keisuke Nishiguchi, and Masataka Mouri.
                        <strong>Construction of a Corpus of Rhetorical Devices in Slogans and Structural Analysis of
                            Antitheses</strong>.
                        <i>ACM Transactions on Asian Low-Resource Language Information Processing (TALLIP), Association
                            for Computing Machinery</i>, 20 (6):2375-4699, 2021.
                    </li>
                </ul>
                <h3>International Conference (Refereed)</h3>
                <ul class="info">
                    <li>
                        Masahiro Kaneko, Sho Takase, <u>Ayana Niwa</u>, Naoaki Okazaki.
                        <strong>Interpretability for Language Learners Using Example-Based Grammatical Error Correction</strong>.
                        <i>Proceedings of the 60th Annual Conference of the Association for Computational Linguistics (ACL)</i>, (to appear), 2022.
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Keisuke Nishiguchi, and Naoaki Okazaki.
                        <strong>Predicting Antonyms in Context using BERT</strong>.
                        <i>Proceedings of the 14th International Conference on Natural Language Generation (INLG2021),
                            Association for Computational Linguistics</i>, 48–54, 2021.
                    </li>
                </ul>
                <h3>Preprint</h3>
                <ul class="info">
                    <li>
                        <u>Ayana Niwa</u>, Sho Takase, Naoaki Okazaki.
                        <strong>Nearest Neighbor Non-autoregressive Text Generation</strong>.
                        <i>arxiv preprint</i>, 2022.  <a href="https://arxiv.org/abs/2208.12496"
                           class="button small">PAPER</a>
                    </li>
                </ul>
                <h3>Domestic Conference and Symposium (Unrefereed)</h3>
                <ul class="info">
                    <li>
                        <u>Ayana Niwa</u>, Naoaki Okazaki.
                        <strong> An Investigation of Effectiveness of the Nearest Neighbor Distribution in T5 Model</strong>.
                        <i>The 29th Annual Meeting of the Association for Natural Language Processing
                            (NLP2023)</i>, Okinawa, March 2023. (in Japanese) <a href="https://www.anlp.jp/proceedings/annual_meeting/2023/pdf_dir/P12-6.pdf"
                           class="button small">PAPER</a> <b></b>
                    </li>
                    <li>
                        Daisuke Taniguchi, Kohei Wakimoto, <u>Ayana Niwa</u>, Naoaki Okazaki.
                        <strong>An Investigation of the Directional Dependency of Text Generation in Large Language Models</strong>.
                        <i>The 29th Annual Meeting of the Association for Natural Language Processing
                            (NLP2023)</i>, Okinawa, March 2023. (in Japanese) <a href="https://www.anlp.jp/proceedings/annual_meeting/2023/pdf_dir/H9-1.pdf"
                           class="button small">PAPER</a> <b></b>
                    </li>
                    <li>
                        Daisuke Taniguchi, Kohei Wakimoto, Kazuya Kuroda, Shunyo Kawamoto, Keisuke Nishiguchi, <u>Ayana Niwa</u>, Naoaki Okazaki.
                        <strong>Advertisement text creation support using product reviews and features</strong>.
                        <i>The 36th Annual Conference of the Japanese Society for Artificial Intelligence (JSAI2023)</i>, Online, June 2023. (in Japanese) <a href="https://www.jstage.jst.go.jp/article/pjsai/JSAI2022/0/JSAI2022_3Yin207/_article/-char/ja/"
                           class="button small">PAPER</a> <b></b>
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Sho Takase, Naoaki Okazaki.
                        <strong> Non-autoregressive Generation using the Nearest Neighbor</strong>.
                        <i>The 28th Annual Meeting of the Association for Natural Language Processing
                            (NLP2022)</i>, online, March 2022. (in Japanese) <a href="https://www.anlp.jp/proceedings/annual_meeting/2022/pdf_dir/C6-3.pdf"
                           class="button small">PAPER</a> <b></b>
                    </li>
                    <li>
                        Ryogo Ishikawa, <u>Ayana Niwa</u>, Mizuki Sakae, Naoaki Okazaki.
                        <strong>Robust Dependency Parsing for the Omission of a Post-positional Particle using Pseudo Training Data</strong>.
                        <i>The 28th Annual Meeting of the Association for Natural Language Processing
                            (NLP2022)</i>, online, March 2022. (in Japanese) <a href="https://www.anlp.jp/proceedings/annual_meeting/2022/pdf_dir/B7-1.pdf"
                           class="button small">PAPER</a>
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Hiroshi Matsuda.
                        <strong>A Study for Sentiment Analysis Accepting the Diverse of Emotion
                            Sensitivities</strong>.
                        <i>The 35th Annual Conference of the Japanese Society for Artificial
                            Intelligence (JSAI2021)</i>, online, June 2021. (in Japanese) <a href="https://www.jstage.jst.go.jp/article/pjsai/JSAI2021/0/JSAI2021_2Yin506/_article/-char/ja/"
                           class="button small">URL</a>
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Keisuke Nishiguchi, Naoaki Okazaki.
                        <strong>Antonym Filling Task in Context using BERT</strong>.
                        <i>The 27th Annual Meeting of the Association for Natural Language Processing
                            (NLP2021)</i>, C9-1, online, March 2021. (in Japanese) <a href="https://www.anlp.jp/proceedings/annual_meeting/2021/pdf_dir/C9-1.pdf"
                           class="button small">PAPER</a>
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Keisuke Nishiguchi, Naoaki Okazaki.
                        <strong>Advertising Slogan Generation with Antitheses by using Masked Language
                            Models</strong>.
                        <i>The 15th Symposium of Young Researcher Association for NLP Studies (YANS2020)</i>,
                        online, September 2020. (in Japanese)
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Kohei Wakimoto, Keisuke Nishiguchi, Masataka Mouri, Naoaki Okazaki.
                        <strong>Structural Analysis of Antitheses in Slogan using Span Candidate Refinement with
                            Word Correspondence</strong>.
                        <i>The 34th Annual Conference of the Japanese Society for Artificial
                            Intelligence (JSAI2020)</i>, <s>Kumamoto</s> online, June 2020. (in Japanese)
                        <a href="https://www.jstage.jst.go.jp/article/pjsai/JSAI2020/0/JSAI2020_1E5GS901/_article/-char/ja"
                           class="button small">URL</a>
                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Kohei Wakimoto, Keisuke Nishiguchi, Masataka Mouri, Naoaki Okazaki.
                        <strong>Structural Analysis of Antitheses in Advertising Slogans</strong>.
                        <i>The 26th Annual Meeting of the Association for Natural Language Processing
                            (NLP2020)</i>, D3-4, <s>Ibaraki</s> online, March 2020. (in Japanese)
                        <a href="https://www.anlp.jp/proceedings/annual_meeting/2020/pdf_dir/D3-4.pdf"
                           class="button small">PAPER</a>

                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Naoaki Okazaki, Keisuke Nishiguchi, Chihiro Kameyama, Masataka Mouri.
                        <strong>A Study Toward Automatic Advertising Slogan Generation Considering Rhetorical
                            Devices</strong>.
                        <i>The 14th Symposium of Young Researcher Association for NLP Studies (YANS2019)</i>,
                        Hokkaido, August 2019. (in Japanese)
                        <a href="https://drive.google.com/file/d/1XYbNdfoMwb0DfTVQNvDCa4Q4HTI4k1ow/view"
                           class="button small">POSTER</a>

                    </li>
                    <li>
                        <u>Ayana Niwa</u>, Naoaki Okazaki, Keisuke Nishiguchi, Chihiro Kameyama, Masataka Mouri.
                        <strong>Analysis Toward Automatic Generation of Advertising Slogans</strong>.
                        <i>The 25th Annual Meeting of the Association for Natural Language Processing
                            (NLP2019)</i>, P3-12, Aichi, March 2019. (in Japanese)
                        <a href="https://www.anlp.jp/proceedings/annual_meeting/2019/pdf_dir/P3-12.pdf"
                           class="button small">PAPER</a>
                    </li>
                </ul>

            </div>
        </section>
        <section id="award" class="main special">
            <header class="major">
                <h2>Award</h2>
            </header>
            <div class="row">
                <div class="col-3">2022/03</div>
                <div class="col-9"><span style="font-weight: bold"> The 28th Annual Meeting of the Association of Natural Language Processing (NLP 2022): Committee Special Award (16/365)</span><a
                        href="https://www.anlp.jp/nlp2022/award.html"
                        class="icon solid fa-globe"><span
                        class="label">Web page</span></a>
                </div>
                <div class="col-3">2021/11</div>
                <div class="col-9"><span style="font-weight: bold">2021 Microsoft Research Asia Fellowship: Nomination Award </span><a
                        href="https://www.microsoft.com/en-us/research/lab/microsoft-research-asia/articles/eleven-phd-students-are-awarded-the-2021-microsoft-research-asia-fellowship-award/"
                        class="icon solid fa-globe"><span
                        class="label">Web page</span></a>
                </div>
            </div>
        </section>
        <section id="organizer" class="main special">
            <header class="major">
                <h2>Organizer</h2>
            </header>
            <div class="row">
                <div class="col-3">2021/06 -</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://nlp-colloquium-jp.github.io/">NLP Colloquium</a> Organizer <a
                        href="https://twitter.com/nlp_colloquium" class="icon brands fa-twitter"><span
                        class="label">Twitter</span></a> <a
                        href="https://www.youtube.com/channel/UCHMmZqchxs-kiBEEyoIUkNw"
                        class="icon brands fa-youtube"><span
                        class="label">Youtube</span></a></span><br>
                    <ul>
                        <li>
                            Holding a talk event mainly every two weeks about the latest research and development in
                            Natural Language Processing (NLP) and Computational Linguistics (CL)
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-3">2020/12 - 2023/03</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://sites.google.com/view/nlp-phd"> NLP Study Group for Doctoral
                    Students</a> Organizer</span><br>
                    <ul>
                        <li>
                            Holding a study group for NLP students at Doctoral courses about four times a
                            year.
                        </li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-3">2020/03 - 2022/03</div>
                <div class="col-9"><span style="font-weight: bold"><a href="https://yans.anlp.jp/">Young Researcher Association for NLP Studies
                    (YANS)</a> Commitee</span>
                    <ul>
                        <li>Planning and organizing the symposium held every summer</li>
                        <li>There were 334 participants in YANS2020.</li>
                    </ul>
                </div>
            </div>
        </section>
        <section id="talk" class="main special">
            <header class="major">
                <h2>Talk</h2>
            </header>
            <div class="row">
                <div class="col-3">2022/11</div>
                <div class="col-9"><span style="font-weight: bold"><a
                        href="https://aip.riken.jp/event-list/surijohoai-female-students-seminar/?lang=ja">Online Seminar for middle and high-school female students by <a href="https://www.riken.jp/en/research/labs/aip/index.html">AIP RIKEN.</a></a> Guest speaker  </span>
                </div>
                <div class="col-3">2021/12</div>
                <div class="col-9"><span style="font-weight: bold"><a
                        href="https://neuripsmeetup.jp/2021/">NeurIPS Meetup Japan 2021, Women in Machine Learning (WiML).</a> Guest speaker </span>
                </div>
                <div class="col-3">2021/11</div>
                <div class="col-9"><span style="font-weight: bold"><a
                        href="https://sig-fpai.org/past/fpai118.html">Special Interest Group on Fundamental Problems in Artificial Intelligence (SIG-FPAI).</a> Invited talk [<a
                        href="https://www.ai-gakkai.or.jp/sigconf/">event page</a>] </span>
                    <ul>
                        <li>
                            Title: Derivation and Use of Templates in Natural Language Generation
                        </li>
                        <li>
                            <a href="https://www.ai-gakkai.or.jp/sigconf/sigconf2021/siginvitedtalks/"
                               class="button small">PROGRAM</a><a
                                href=" https://www.jstage.jst.go.jp/article/jsaifpai/118/0/118_03/_article/-char/ja/"
                                class="button small">INFO</a>(in Japanese)
                        </li>
                    </ul>
                </div>
                <div class="col-3">2020/03</div>
                <div class="col-9"><span style="font-weight: bold"><a
                        href="https://www.ai-gakkai.or.jp/no78_jsai_seminar/">The 78th AI seminar.</a> Invited talk</span>
                    <ul>
                        <li>
                            Offline presentation was cancelled due to COVID-19.
                        </li>
                        <li>
                            <s><a href="https://www.ai-gakkai.or.jp/no78_jsai_seminar_online/"
                                  class="button small"><s>SLIDES</s></a>Limited access by 2020/06/23</s>
                            <br>→ Some of the contents have been revised and re-published as a personal version.
                            <a
                                    href="https://speakerdeck.com/ayaniwa/trends-in-natural-language-processing-at-neurips-2019"
                                    class="button small">SLIDE</a>
                        </li>
                    </ul>
                </div>
                <div class="col-3">2019/11</div>
                <div class="col-9"><span
                        style="font-weight: bold">Jissen Gakuen Senior High School. A visiting lecture</span>
                    <ul>
                        <li>Title: A Smart Computer that Understands Language</li>
                    </ul>
                </div>
                <div class="col-3">2019/06</div>
                <div class="col-9"><span style="font-weight: bold">Denenchofu High School. A visiting lecture</span>
                    <ul>
                        <li>
                            Title: Natural Language Processing
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="others" class="main special">
            <header class="major">
                <h2>Others</h2>
            </header>
            <div class="row">
                <div class="col-3" style="font-weight: bold">Scholarship and Grants-in-Aid</div>
                <div class="col-9">
                    <ul>
                        <li><span style="font-weight: bold"><a href="https://nips.cc/">NeurIPS 2019</a> Participation Support by <a
                                href="https://www.ai-gakkai.or.jp/en/">The Japanese Society for Artificial
                Intelligence</a></span><br>
                            Travel Expense and Conference Registration Fee (2019/12)
                        </li>
                        <li><span style="font-weight: bold"><a
                                href="https://www.titech.ac.jp/english/enrolled/tuition/tsubame_scholarship.html">Tokyo Tech Tsubame Scholarship for Doctoral Students</a></span><br>
                            480,000 yen / year (2020/04 - 2021/03)
                        </li>
                    </ul>

                </div>
            </div>
            <div class="row">
                <div class="col-3" style="font-weight: bold">Reviewer</div>
                <div class="col-9" style="font-weight: bold; margin-bottom: 1em">
                    <ul>
                        <li> 13th International Conference on Language Resources and Evaluation (LREC 2022)</li>
                    </ul>

                </div>
            </div>
            <div class="row">
                <div class="col-3" style="font-weight: bold">Teaching Assistant</div>
                <div class="col-9" style="font-weight: bold; margin-bottom: 1em">
                    <ul>
                        <li> Machine Learning (2020 4Q)</li>
                        <li> Machine Learning (2021 4Q)</li>
                    </ul>

                </div>
            </div>
            <div class="row">
                <div class="col-3" style="font-weight: bold">Membership</div>
                <div class="col-9" style="font-weight: bold">
                    <ul>
                        <li>
                            The Association for Natural Language Processing (NLP)
                        </li>
                        <li>NLP Dの会</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer id="footer">
        <p class="copyright">Copyright (c) 2020 - Ayana Niwa. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
    </footer>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
<script src="js/bootstrap-toc.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.6.0/clipboard.min.js"></script>
<script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
<script src="js/bootstrap-toc.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>


<!--
Reference: https://mo22comi.com/2021/01/10/bootstrap-copy-and-tooltip/
-->
<script>
    $('#copy-td')
        // tooltip設定
        .tooltip({
            trigger: 'manual'
        })
        // tooltip表示後の動作を設定
        .on('shown.bs.tooltip', function () {
            setTimeout((function () {
                $(this).tooltip('hide');
            }).bind(this), 1500);
        })
        // クリック時の動作を設定
        .on('click', function () {
            // buttonのvalueを取得
            const text = $(this).val();
            // tdから直接はコピーできないためテキストエリアを経由
            let $textarea = $('<textarea></textarea>');
            $textarea.text(text);
            $(this).append($textarea);
            $textarea.select();
            // コピー結果を取得してtextareaは削除
            const copyResult = document.execCommand('copy');
            $textarea.remove();
            // コピー結果によって表示変更
            if (copyResult) {
                $('#copy-td').attr('data-original-title', 'コピーしました');
            } else {
                $('#copy-td').attr('data-original-title', 'コピー失敗しました');
            }
            // tooltip表示
            $(this).tooltip('show');
        });
    // --------------------------
    // td横のボタンクリック時の動作
    // --------------------------
    $('#copy-td')
        // tooltip設定
        .tooltip({
            trigger: 'manual'
        })
        // tooltip表示後の動作を設定
        .on('shown.bs.tooltip', function () {
            setTimeout((function () {
                $(this).tooltip('hide');
            }).bind(this), 1500);
        })
        // クリック時の動作を設定
        .on('click', function () {
            // buttonのvalueを取得
            const text = $(this).val();
            // tdから直接はコピーできないためテキストエリアを経由
            let $textarea = $('<textarea></textarea>');
            $textarea.text(text);
            $(this).append($textarea);
            $textarea.select();
            // コピー結果を取得してtextareaは削除
            const copyResult = document.execCommand('copy');
            $textarea.remove();
            // コピー結果によって表示変更
            if (copyResult) {
                $('#copy-td').attr('data-original-title', 'Copied!');
            } else {
                $('#copy-td').attr('data-original-title', 'Copy failed.');
            }
            // tooltip表示
            $(this).tooltip('show');
        });
</script>
</body>
</html>
